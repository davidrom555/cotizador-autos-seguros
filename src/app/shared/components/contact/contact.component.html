<div class="contact-container">
  <div class="contact-header">
    <h1>Contacto</h1>
    <p>¿Tenés alguna consulta? Estamos acá para ayudarte</p>
  </div>
  <div class="contact-content">
    <div class="contact-info">
      <div class="info-card">
        <div class="card-icon">
          <i class="fas fa-user"></i>
        </div>
        <div class="card-content">
          <h3>David Antonio Román</h3>
          <p>Desarrollador de Sistemas</p>
        </div>
      </div>
      <div class="info-card">
        <div class="card-icon">
          <i class="fas fa-envelope"></i>
        </div>
        <div class="card-content">
          <h3>Email</h3>
          <p><a href="mailto:davidroman.desarrollador@gmail.com">davidroman.desarrollador@gmail.com</a></p>
        </div>
      </div>
      <div class="info-card">
        <div class="card-icon">
          <i class="fas fa-phone"></i>
        </div>
        <div class="card-content">
          <h3>Teléfono</h3>
          <p><a href="tel:+543412655614">+54 341 265564</a></p>
          <small>Lunes a Viernes de 9:00 a 18:00 hs</small>
        </div>
      </div>
      <div class="info-card">
        <div class="card-icon">
          <i class="fas fa-map-marker-alt"></i>
        </div>
        <div class="card-content">
          <h3>Ubicación</h3>
          <p>Funes, Provincia de Santa Fe<br>Argentina</p>
        </div>
      </div>
      <div class="info-card">
        <div class="card-icon">
          <i class="fas fa-clock"></i>
        </div>
        <div class="card-content">
          <h3>Horarios de Atención</h3>
          <div class="schedule">
            <p><strong>Lunes a Viernes:</strong> 9:00 - 18:00</p>
            <p><strong>Sábados:</strong> 9:00 - 13:00</p>
            <p><strong>Domingos:</strong> Cerrado</p>
          </div>
        </div>
      </div>
    </div>
    <div class="contact-form-section">
      <h2>Envianos tu Consulta</h2>
      <ng-container *ngIf="showSuccessMessage()">
        <div class="success-message">
          <i class="fas fa-check-circle"></i>
          ¡Tu consulta ha sido enviada exitosamente! Te responderemos pronto.
        </div>
      </ng-container>
      <ng-container *ngIf="showErrorMessage()">
        <div class="error-message-container">
          <i class="fas fa-exclamation-triangle"></i>
          Hubo un error al enviar tu consulta. Por favor, inténtalo de nuevo.
        </div>
      </ng-container>
      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <div class="form-row">
          <div class="form-group">
            <label for="name">Nombre y Apellido *</label>
            <input type="text" id="name" formControlName="name" placeholder="Ingresá tu nombre completo" [class.error]="contactForm.get('name')?.invalid && contactForm.get('name')?.touched">
            <div class="error-message" *ngIf="contactForm.get('name')?.invalid && contactForm.get('name')?.touched">
              El nombre es requerido
            </div>
          </div>
          <div class="form-group">
            <label for="email">Email *</label>
            <input type="email" id="email" formControlName="email" placeholder="tu@email.com" [class.error]="contactForm.get('email')?.invalid && contactForm.get('email')?.touched">
            <div class="error-message" *ngIf="contactForm.get('email')?.invalid && contactForm.get('email')?.touched">
              Ingresá un email válido
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="phone">Teléfono</label>
            <input type="tel" id="phone" formControlName="phone" placeholder="Ej: 341 2655614">
          </div>
          <div class="form-group">
            <label for="subject">Asunto *</label>
            <select id="subject" formControlName="subject" [class.error]="contactForm.get('subject')?.invalid && contactForm.get('subject')?.touched">
              <option value="">Seleccioná un tema</option>
              <option value="cotizacion">Consulta sobre Cotización</option>
              <option value="poliza">Consulta sobre Póliza Existente</option>
              <option value="siniestro">Consulta sobre Siniestro</option>
              <option value="renovacion">Renovación de Póliza</option>
              <option value="general">Consulta General</option>
              <option value="reclamo">Reclamo</option>
            </select>
            <div class="error-message" *ngIf="contactForm.get('subject')?.invalid && contactForm.get('subject')?.touched">
              Seleccioná un asunto
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="message">Mensaje *</label>
          <textarea id="message" formControlName="message" rows="5" placeholder="Contanos tu consulta con el mayor detalle posible..." [class.error]="contactForm.get('message')?.invalid && contactForm.get('message')?.touched"></textarea>
          <div class="error-message" *ngIf="contactForm.get('message')?.invalid && contactForm.get('message')?.touched">
            El mensaje es requerido
          </div>
        </div>
        <div class="form-group">
          <label class="checkbox-label">
            <input type="checkbox" formControlName="acceptPrivacy">
            <span class="checkmark"></span>
            Acepto la <a href="/privacy-policy" target="_blank">Política de Privacidad</a> y los <a href="/terms-conditions" target="_blank">Términos y Condiciones</a> *
          </label>
          <div class="error-message" *ngIf="contactForm.get('acceptPrivacy')?.invalid && contactForm.get('acceptPrivacy')?.touched">
            Debes aceptar los términos y condiciones
          </div>
        </div>
        <button type="submit" class="btn btn-primary" [disabled]="contactForm.invalid || isSubmitting()">
          <i class="fas" [ngClass]="isSubmitting() ? 'fa-spinner fa-spin' : 'fa-paper-plane'"></i>
          {{ isSubmitting() ? 'Enviando...' : 'Enviar Consulta' }}
        </button>
      </form>
    </div>
  </div>
  <div class="map-section">
    <h2>Nuestra Ubicación</h2>
    <div class="map-container">
      <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d54528.84636396265!2d-60.81684157832031!3d-32.91824!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95b65c92d17e1b01%3A0x2b0b7e8f7b5b7b5b!2sFunes%2C%20Santa%20Fe%2C%20Argentina!5e0!3m2!1ses!2sar!4v1691234567890!5m2!1ses!2sar" width="100%" height="400" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
  </div>
  <div class="contact-footer">
    <button class="btn btn-secondary" (click)="goBack()">
      <i class="fas fa-arrow-left"></i>
      Volver
    </button>
  </div>
</div>
